<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body class="shower list">
    <header class="caption">
      <h1>Redis as a Database for Node.js</h1>
      <p><a target="_blank" href="https://t.me/madmxg">Mikhail Garbuzov</a>, RingCentral</p>
    </header>

    <section class="slide clear">
      <h2 class="shout" style="font-size: 3em">Redis as a Database for Node.js</h2>
    </section>

    <section class="slide intro clear">
      <img src="assets/images/me.jpg" />
      <div>
        <h2 class="">About me ğŸ§”â€â™‚ï¸</h2>
        <h3 style="font-size: 2em; margin-block-end: 0px">Mikhail Garbuzov</h3>
        <ul>
          <li>Software Engineer at RingCentral</li>
          <li>MoscowJS Co-Organizer</li>
          <!-- <li>More than 10 Y experience with JS</li> -->
        </ul>
      </div>
    </section>

    <section class="slide">
      <h2 class="">What is this presentation about?</h2>
      <ol>
        <li class="next">Problem</li>
        <li class="next">Database overview</li>
        <li class="next">Redis intro</li>
        <li class="next">How we use Redis</li>
        <li class="next">Wrap it out</li>
      </ol>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <h3 class="shout shout-e">
        My team and I are developing a service that manages the client's state inside a meeting.
      </h3>
    </section>

    <section class="slide">
      <center><h2>Video Conference Processor</h2></center>
      <h3 class="shout shout-e">
        My team and I are developing a service that manages the client's state inside a meeting.
      </h3>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <ul>
        <li>Backend</li>
        <li>+</li>
        <li>Database</li>
      </ul>
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/participants.png" />
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/rps.png" />
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/latency-all.png" />
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <h3 class="shout shout-e">Backend ğŸ’š Database</h3>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <h3 class="shout shout-e">Database ğŸ¤·â€â™‚ï¸</h3>
    </section>

    <section class="slide">
      <h2 class="shout" style="font-size: 3em">
        Database<br />=<br />Database Management System<br />=<br />DBMS
      </h2>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Keyâ€“value</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Keyâ€“value</li>
        <li>Embedded database</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Keyâ€“value</li>
        <li>Embedded database</li>
        <li>...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li><strong>Relational database (SQL)</strong></li>
        <li><strong>Document-oriented database (NoSQL)</strong></li>
        <li class="unmarked">NewSQL</li>
        <li class="unmarked">Keyâ€“value</li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li class="unmarked">Relational database (SQL)</li>
        <li class="unmarked">Document-oriented database (NoSQL)</li>
        <li class="unmarked">NewSQL</li>
        <li><strong>Keyâ€“value</strong></li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li class="unmarked">Relational database (SQL)</li>
        <li class="unmarked">Document-oriented database (NoSQL)</li>
        <li class="unmarked">NewSQL</li>
        <li><strong>Keyâ€“value â†’ Redis</strong></li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <blockquote>
        <p>
          Redis is an in-memory data store used by millions of developers as a cache, vector
          database, <strong>document database</strong>, streaming engine, and message broker.
        </p>
      </blockquote>
      <img class="cover w-80" src="assets/images/redis-logo.svg" />
    </section>

    <section class="slide">
      <h2>Redis benefits</h2>
      <ol>
        <li class="unmarked">// TODO:</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Let's code</h2>
    </section>

    <section class="slide">
      <h2>Our wishes</h2>
      <ol>
        <li>Performance</li>
        <li>ORM style</li>
        <li>..</li>
      </ol>
    </section>

    <section class="slide">
      <h2>analysis of existing solutions</h2>
      <ol>
        <li>ioredis</li>
        <li>node-redis</li>
        <li>redis-om-node</li>
        <li>Nohm</li>
      </ol>
    </section>

    <section class="slide">
      <h2>basic app</h2>
      <pre>
        <code>
          // TODO: Code example for redis-om-node
        </code>
      </pre>
    </section>

    <section class="slide">
      <h2>basic app</h2>
      <pre>
        <code>
          // TODO: Code example for Nohm
        </code>
      </pre>
    </section>

    <section class="slide">
      <h2>basic app</h2>
      <pre>
        <code>
          // TODO: Code example for classic ioredis
          import { Redis, type RedisOptions } from 'ioredis';

          const options: RedisOptions = {
            host: 'localhost',
            port: 6379,
            db: 0,
          };
          export const redis = new Redis(options);
        </code>
      </pre>
    </section>

    <section class="slide">
      <h2>Own way</h2>
    </section>

    <section class="slide">
      <h2>Pre-requisite</h2>
      <pre>
        <code>
          # compose.yaml
          services:
            redis:
              image: redis/redis-stack
              ports:
                - 6379:6379
        </code>
      </pre>
    </section>

    <section class="slide">
      <h2>Packages</h2>
      <ol>
        <li>ioredis</li>
        <li>typescript</li>
        <li>express</li>
      </ol>
    </section>

    <!-- <section class="slide">
      <h2>basic app</h2>
      <pre>
        <code>
          # app.ts
          app.get('/set', async (req, res) => {
            await redis.set(req.query.key, req.query.value);
            res.status(200).send('OK');
          });
          app.get('/get', async (req, res) => {
            const value = await redis.get(req.query.key);
            res.status(200).send(value);
          });
        </code>
      </pre>
    </section> -->

    <section class="slide">
      <h2>Introduce pipelines</h2>
    </section>

    <!-- <section class="slide">
      <h2>ğŸš§ about Object Model</h2>
    </section> -->

    <section class="slide">
      <h2>ğŸš§ about <code>node:async_hooks</code></h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ about document loader</h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ about command queue & MULTI & pipeline</h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ about traverce</h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ about Model with @decorators</h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ about client side cache</h2>
    </section>

    <section class="slide">
      <h2>ğŸš§ performance results</h2>
    </section>

    <section class="slide">
      <div id="root"></div>
      <!-- Create your first slide -->
    </section>

    <footer class="badge">
      <a href="https://github.com/shower/shower">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>
  </body>
</html>
