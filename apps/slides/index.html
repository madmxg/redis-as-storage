<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body class="shower list">
    <header class="caption">
      <h1>Redis as a Database for Node.js</h1>
      <p><a target="_blank" href="https://t.me/madmxg">Mikhail Garbuzov</a>, RingCentral</p>
    </header>

    <section class="slide clear">
      <h2 class="shout" style="font-size: 3em">Redis as a Database for Node.js</h2>
    </section>

    <section class="slide intro clear">
      <img src="assets/images/me.jpg" />
      <div>
        <h2 class="">About me 🧔‍♂️</h2>
        <h3 style="font-size: 2em; margin-block-end: 0px">Mikhail Garbuzov</h3>
        <ul>
          <li>Software Engineer at RingCentral</li>
          <li>MoscowJS Co-Organizer</li>
          <!-- <li>More than 10 Y experience with JS</li> -->
        </ul>
      </div>
    </section>

    <section class="slide">
      <h2 class="">What is this presentation about?</h2>
      <ol>
        <li class="next">Problem</li>
        <li class="next">Database overview</li>
        <li class="next">Redis intro</li>
        <li class="next">How we use Redis</li>
        <li class="next">Wrap it out</li>
      </ol>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <h3 class="shout shout-e">
        My team and I are developing a service that manages the client's state inside a meeting.
      </h3>
    </section>

    <section class="slide">
      <center><h2>Video Conference Processor</h2></center>
      <h3 class="shout shout-e">
        My team and I are developing a service that manages the client's state inside a meeting.
      </h3>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Backend 💚 Database</h2>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Database 🤷‍♂️</h2>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Specificity</h2>
    </section>

    <section class="slide">
      <h2>Specificity</h2>
      <ol>
        <li>Highloads</li>
        <li>Response time / latency</li>
        <li>Hierarchical data structure</li>
        <li>Data life cycle &lt; 3 days</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Specificity</h2>
      <ol>
        <li><strong>Highloads</strong></li>
        <li class="unmarked">Response time / latency</li>
        <li class="unmarked">Hierarchical data structure</li>
        <li class="unmarked">Data life cycle &lt; 3 days</li>
      </ol>
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/participants.png" />
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/rps.png" />
    </section>

    <section class="slide">
      <h2>Specificity</h2>
      <ol>
        <li class="unmarked">Highloads</li>
        <li><strong>Response time / latency</strong></li>
        <li class="unmarked">Hierarchical data structure</li>
        <li class="unmarked">Data life cycle &lt; 3 days</li>
      </ol>
    </section>

    <section class="slide">
      <img class="cover h" src="assets/images/grafana/latency-all.png" />
    </section>

    <section class="slide">
      <h2>Specificity</h2>
      <ol>
        <li class="unmarked">Highloads</li>
        <li class="unmarked">Response time / latency</li>
        <li><strong>Hierarchical data structure</strong></li>
        <li class="unmarked">Data life cycle &lt; 3 days</li>
      </ol>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Meeting → Participant → Session → Stream</h2>
      <sup class="todo">TODO:</sup>
    </section>

    <section class="slide">
      <h2 class="shout" style="font-size: 3em">
        Database<br />=<br />Database Management System<br />=<br />DBMS
      </h2>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Key–value</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Key–value</li>
        <li>Embedded database</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li>Relational database (SQL)</li>
        <li>Document-oriented database (NoSQL)</li>
        <li>NewSQL</li>
        <li>Key–value</li>
        <li>Embedded database</li>
        <li>...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li><strong>Relational database (SQL)</strong></li>
        <li><strong>Document-oriented database (NoSQL)</strong></li>
        <li class="unmarked">NewSQL</li>
        <li class="unmarked">Key–value</li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li class="unmarked">Relational database (SQL)</li>
        <li class="unmarked">Document-oriented database (NoSQL)</li>
        <li class="unmarked">NewSQL</li>
        <li><strong>Key–value</strong></li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Database</h2>
      <ol>
        <li class="unmarked">Relational database (SQL)</li>
        <li class="unmarked">Document-oriented database (NoSQL)</li>
        <li class="unmarked">NewSQL</li>
        <li><strong>Key–value → Redis</strong></li>
        <li class="unmarked">Embedded database</li>
        <li class="unmarked">...</li>
      </ol>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <blockquote>
        <p>
          Redis is an in-memory data store used by millions of developers as a cache, vector
          database, <strong>document database</strong>, streaming engine, and message broker.
        </p>
      </blockquote>
      <img class="cover w-60" src="assets/images/redis-logo.svg" />
    </section>

    <section class="slide">
      <h2>Redis benefits</h2>
      <ol>
        <li class="unmarked">-</li>
      </ol>
      <sup class="todo">TODO:</sup>
    </section>

    <section class="slide">
      <h2>Our wishes</h2>
      <ol>
        <li>Performance</li>
        <li>ORM/ODM style</li>
        <li>Decorators</li>
        <li>-</li>
      </ol>
      <sup class="todo">TODO:</sup>
    </section>

    <section class="slide">
      <h2>analysis of existing solutions</h2>
      <ol>
        <li>ioredis</li>
        <li>node-redis</li>
        <li>redis-om-node</li>
        <li>Nohm</li>
      </ol>
    </section>

    <!-- <section class="slide">
      <h2>Packages</h2>
      <ol>
        <li>ioredis</li>
        <li>typescript</li>
        <li>express</li>
      </ol>
      <sup class="todo">TODO:</sup>
    </section> -->

    <section class="slide">
      <h2>Redis pipeline</h2>
    </section>

    <section class="slide">
      <h2>&nbsp;</h2>
      <blockquote>
        Pipelining is not just a way to <strong>reduce the latency cost</strong> associated with the
        round trip time, it actually greatly improves
        <strong>the number of operations you can perform per second</strong> in a given Redis
        server.
      </blockquote>
    </section>

    <section class="slide">
      <h2>Without pipelining</h2>
      <pre>
        <code>Client: INCR X</code>
        <code>Server: 1</code>
        <code>Client: INCR X</code>
        <code>Server: 2</code>
        <code>Client: INCR X</code>
        <code>Server: 3</code>
        <code>Client: INCR X</code>
        <code>Server: 4</code>
      </pre>
    </section>

    <section class="slide">
      <h2>With pipelining</h2>
      <pre>
        <code>Client: INCR X</code>
        <code>Client: INCR X</code>
        <code>Client: INCR X</code>
        <code>Server: 1</code>
        <code>Server: 2</code>
        <code>Server: 3</code>
      </pre>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Let's code</h2>
    </section>

    <section class="slide">
      <h2>🚧 about <code>node:async_hooks</code></h2>
    </section>

    <section class="slide">
      <h2>🚧 about document loader</h2>
    </section>

    <section class="slide">
      <h2>🚧 about command queue & MULTI & pipeline</h2>
    </section>

    <section class="slide">
      <h2>🚧 about traverce</h2>
    </section>

    <section class="slide">
      <h2>🚧 about Model with @decorators</h2>
    </section>

    <section class="slide">
      <h2>🚧 about client side cache</h2>
    </section>

    <section class="slide">
      <h2>🚧 performance results</h2>
    </section>

    <section class="slide">
      <h2 class="shout shout-e">Node.js 💚 Redis</h2>
    </section>

    <section class="slide">
      <div id="root"></div>
      <h2 class="shout shout-e">QR | QA</h2>
      <sup class="todo">TODO:</sup>
    </section>

    <footer class="badge">
      <a href="https://github.com/shower/shower">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>
  </body>
</html>
